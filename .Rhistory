install.packages("R2jags")
install.packages("tidyr")
install.packages("lme4")
install.packages("tidyverse")
install.packages("ggplot2")
library(readxl)
library(tidyverse)
library(ggplot2)
dat <- read_excel("~/Preliminary Data/Data_sheet_FeedingExpt.xlsx")
cleandat <- dat %>%
group_by(Treatment) %>%
summarize_all(funs(mean,sd))
cleandat <- dat %>%
group_by(Treatment) %>%
summarize_all(funs(mean,sd), na.rm=TRUE)
warnings()
View(cleandat)
cleandat<- cleandat[,c(1,5,7,11,13,21,23,27,29)]
View(cleandat)
cdat1 <- cleandat[,c(2,3,6,7)]
cdat2 <- cleandat[,c(4,5,8,9)]
bind_rows(cdat1,cdat2)
rownames(cdat1) <- c("chl_mean", "Nh4_mean", "chl_SD", "Nh4_SD")
?rownames
cdat1 <- data.frame(cleandat[,c(2,3,6,7)])
rownames(cdat1) <- c("chl_mean", "Nh4_mean", "chl_SD", "Nh4_SD")
colnames(cdat1) <- c("chl_mean", "Nh4_mean", "chl_SD", "Nh4_SD")
colnames(cdat2) <- c("chl_mean", "Nh4_mean", "chl_SD", "Nh4_SD")
newdat <- bind_rows(cdat1,cdat2)
newdat
newdat$time <- rep(1:2, each=5)
newdat
newdat$treat <- rep(1:5,2)
newdat
library(ggplot2)
ggplot(newdat, aes(time,chl_mean))+geom_point(aes(color=treat))
newdat$treat <- as.factor(rep(1:5,2))
ggplot(newdat, aes(time,chl_mean))+geom_point(aes(color=treat))
?geom_errorbar
ggplot(newdat, aes(time,chl_mean))+geom_point(aes(color=treat))+
geom_errorbar(aes(ymin=chl_mean-chl_SD, ymax=chl_mean+chl_SD)
)
ggplot(newdat, aes(time,Nh4_mean))+geom_point(aes(color=treat))+
geom_errorbar(aes(ymin=Nh4_mean-Nh4_SD, ymax=Nh4_mean+Nh4_SD)
ggplot(newdat, aes(time,Nh4_mean))+geom_point(aes(color=treat))+
geom_errorbar(aes(ymin=Nh4_mean-Nh4_SD, ymax=Nh4_mean+Nh4_SD)
ggplot(newdat, aes(time,Nh4_mean))+geom_point(aes(color=treat))+
geom_errorbar(aes(ymin=Nh4_mean-Nh4_SD, ymax=Nh4_mean+Nh4_SD))
View(newdat)
ggplot(newdat, aes(time,Nh4_mean))+geom_point(aes(color=treat))
ggplot(newdat, aes(time,Nh4_mean))+geom_point(aes(color=treat))+
geom_errorbar(aes(ymin=Nh4_mean-Nh4_SD, ymax=Nh4_mean+Nh4_SD))
ggplot(newdat, aes(time,Nh4_mean))+geom_point(aes(color=treat))+
geom_errorbar(aes(ymin=Nh4_mean-Nh4_SD, ymax=Nh4_mean+Nh4_SD))
newdat
131.6 / 2.2
131.6 * 2.2
131.6 * 2
131.6 * 2 / 2.2
new_dat1 <- new_dat[new_dat$time == "1", ]
newdat1 <- newdat[newdat$time == "1", ]
newdat2 <- newdat[newdat$time == "2", ]
new_dat <- rbind(newdat1, newdat2$chl_mean)
new_dat <- rbind(newdat1, data.frame(newdat2$chl_mean))
new_dat <- cbind(newdat1, data.frame(newdat2$chl_mean))
new_dat <- cbind(newdat1, data.frame(chl_mean_end = newdat2$chl_mean))
ggplot(newdat, aes(time, chl_mean_end / chl_mean))+geom_point(aes(color=treat))+
geom_errorbar(aes(ymin=chl_mean-chl_SD, ymax=chl_mean+chl_SD))
ggplot(newdat, aes(time, chl_mean))+geom_point(aes(color=treat))+
geom_errorbar(aes(ymin=chl_mean-chl_SD, ymax=chl_mean+chl_SD))
ggplot(new_dat, aes(time, chl_mean_end / chl_mean))+geom_point(aes(color=treat))
new_dat
ggplot(new_dat, aes(chl_mean, chl_mean_end / chl_mean))+geom_point(aes(color=treat))
ggplot(new_dat, aes(chl_mean, chl_mean_end / chl_mean))+geom_point(lwd = 5)
cleandat
head(dat)
ggplot(dat, aes(Treatment, 'Chl 2' / 'Chl 1'))+geom_point(lwd = 5)
names(dat)
ggplot(dat, aes(Treatment, 'Chl 2' / 'Chl 1'))+geom_point(lwd = 2)
names(dat); str(dat)
dat <- read.csv("Algae_Nutrient.csv")
setwd("~/GitHub/PreliminaryExperiments")
dat <- read.csv("Algae_Nutrient.csv")
dat$rep1 <- rep(c(1:30),11)
ch <- data.frame(dat$date1,dat$chl,dat$rep1)
colnames(ch)<- c("date1","chl","rep1")
ch1 <- ch %>%
spread(rep1,chl)
ch1 <- as.matrix(ch1)
ch1 <- ch1[,-1]
nh <- data.frame(dat$date1,dat$nh4,dat$rep1)
library(tidyr)
dat$rep1 <- rep(c(1:30),11)
ch <- data.frame(dat$date1,dat$chl,dat$rep1)
colnames(ch)<- c("date1","chl","rep1")
ch1 <- ch %>%
spread(rep1,chl)
ch1 <- as.matrix(ch1)
ch1 <- ch1[,-1]
nh <- data.frame(dat$date1,dat$nh4,dat$rep1)
colnames(nh)<- c("date1","nh4","rep1")
nh1 <- nh %>%
spread(rep1,nh4)
nh1 <- nh1[,-1]
ch2 <- data.frame(ch1)
ch2$time <- seq(1,11)
ch3 <- ch2[,-c(31)]
newdat <- data.frame(
chlorp = numeric(0),
ammonia = numeric(0),
repn = numeric(0)
)
for (i in 1:ncol(ch2)) {
newdat <- rbind(newdat,data.frame(
chlorp = ch3[-length(ch3[,i]),i] / ch3[-1,i],
ammonia = nh2[-length(nh2[,i]),i],
repn = rep(i,10)
))
}
nh2 <- data.frame(nh1)
for (i in 1:ncol(ch2)) {
newdat <- rbind(newdat,data.frame(
chlorp = ch3[-length(ch3[,i]),i] / ch3[-1,i],
ammonia = nh2[-length(nh2[,i]),i],
repn = rep(i,10)
))
}
i=1
newdat <- rbind(newdat,data.frame(
chlorp = ch3[-length(ch3[,i]),i] / ch3[-1,i],
ammonia = nh2[-length(nh2[,i]),i],
repn = rep(i,10)
))
View(newdat)
for (i in 1:ncol(ch2)) {
newdat <- rbind(newdat,data.frame(
chlorp = ch3[-length(ch3[,i]),i] / ch3[-1,i],
ammonia = nh2[-length(nh2[,i]),i],
repn = rep(i,10)
))
}
View(dat)
i
newdat <- data.frame(
chlorp = numeric(0),
ammonia = numeric(0),
repn = numeric(0)
)
i = 1
newdat
newdat <- rbind(newdat, data.frame(
chlorp = ch3[-length(ch3[ ,i]),i] / ch3[-1,i],
ammonia = nh2[-length(nh2[ ,i]),i],
repn = rep(i, 10)
))
newdat
i = 2
newdat <- rbind(newdat, data.frame(
chlorp = ch3[-length(ch3[ ,i]), i] / ch3[-1, i],
ammonia = nh2[-length(nh2[ ,i]), i],
repn = rep(i, 10)
))
newdat
for (i in 1:ncol(ch3)) {
newdat <- rbind(newdat, data.frame(
chlorp = ch3[-length(ch3[ ,i]), i] / ch3[-1, i],
ammonia = nh2[-length(nh2[ ,i]), i],
repn = rep(i, 10)
))
}
library(ggplot2)
ggplot(newdat, aes(ammonia, chlorp)) + geom_point() + theme_bw()
newdat <- data.frame(
chlorp = numeric(0),
ammonia = numeric(0),
repn = numeric(0)
)
for (i in 1:ncol(ch3)) {
newdat <- rbind(newdat, data.frame(
chlorp = ch3[-1, i] / ch3[-length(ch3[ ,i]), i],
ammonia = nh2[-length(nh2[ ,i]), i],
repn = rep(i, 10)
))
}
ggplot(newdat, aes(ammonia, chlorp)) + geom_point() + theme_bw()
ggplot(newdat, aes(ammonia, chlorp)) + geom_point() + theme_bw() +
geom_smooth()
ggplot(newdat[newdat$ammonia < 30, ], aes(ammonia, chlorp)) + geom_point() + theme_bw() +
geom_smooth()
ggplot(newdat[newdat$ammonia < 30, ], aes(ammonia, chlorp)) + geom_point() + theme_bw()
ggplot(newdat[newdat$ammonia < 30, ], aes(ammonia, chlorp)) + geom_point() + theme_bw() +
geom_smooth()
ggplot(newdat[newdat$ammonia < 30 & newdat$chlorp < 4, ], aes(ammonia, chlorp)) + geom_point() + theme_bw() +
geom_smooth()
ggplot(newdat[newdat$ammonia < 30 & newdat$chlorp < 2.5, ], aes(ammonia, chlorp)) + geom_point() + theme_bw() +
geom_smooth()
ggplot(newdat[newdat$ammonia < 30 & newdat$chlorp < 2.5, ], aes(ammonia, chlorp)) + geom_point() + theme_bw()
ggplot(newdat[newdat$chlorp < 4, ], aes(ammonia, chlorp)) + geom_point() + theme_bw() +
geom_smooth()
test_dat <- data.frame(day = seq(1, 20, by = 1),
amount = c(40, rep(0, 19)))
test_dat <- data.frame(day = seq(1, 20, by = 1),
amount = c(40, rep(0, 19)))
for(i in 2:nrow(test_dat)) {
test_dat$amount[i] = test_dat$amount[i - 1] * 1.2
}
plot(test_dat)
test_dat <- data.frame(day = seq(1, 20, by = 1),
amount = c(40, rep(0, 19)))
for(i in 2:nrow(test_dat)) {
test_dat$amount[i] = test_dat$amount[i - 1] * 1.1
}
plot(test_dat)
test_dat <- data.frame(day = seq(1, 20, by = 1),
amount = c(40, rep(0, 19)))
for(i in 2:nrow(test_dat)) {
test_dat$amount[i] = test_dat$amount[i - 1] * 1.5
}
plot(test_dat)
test_dat[11, ]
